@model List<OnlineBookStore.Models.Order>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>My Orders</title>
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
</head>
<body>
    <div class="container mt-4">
        <h2 class="text-center">My Orders</h2>

        @if (Model == null || !Model.Any())
        {
            <div class="alert alert-info text-center mt-4">
                You have no orders yet.
            </div>
        }
        else
        {
            <table class="table table-bordered table-hover mt-4">
                <thead class="table-dark text-center">
                    <tr>
                        <th>Order ID</th>
                        <th>Date</th>
                        <th>Total</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var o in Model)
                    {
                        <tr class="text-center">
                            <td>@o.OrderID</td>
                            <td>@o.OrderDate.ToString("yyyy-MM-dd")</td>
                            <td>@o.TotalAmount EGP</td>
                            <td>@o.Status</td>
                            <td>
                                @if (o.Status == "Pending")
                                {
                                    <a asp-controller="Orders"
                                       asp-action="Cancel"
                                       asp-route-id="@o.OrderID"
                                       class="btn btn-danger btn-sm">
                                        Cancel
                                    </a>
                                }
                                else
                                {
                                    <span class="text-muted">—</span>
                                }
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js"></script>
</body>
</html>

